<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><link rel="manifest" href="/manifest.json">
	<meta charset="utf-8">
	<title>Our Love Story</title>
	<style type="text/css">
	@font-face {
		font-family: digit;
		src: url('resources/digital-7_mono.ttf') format("truetype");
	}
	
	a:link,a:visited {
		text-decoration: none;
	}
	</style>
	<link rel="shortcut icon" href="resources/favicon.ico">
    <link href="css/default.css" type="text/css" rel="stylesheet">
	<script type="text/javascript" src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
	<script type="text/javascript" src="js/garden.js"></script>
    <script type="text/javascript" src="js/functions.js"></script>
    <script type="text/javascript" src="js/console.js"></script>
</head>

<body onmouseup="document.selection.empty()" onmousedown="return false" onselectstart="return false" onbeforecopy="return false" oncopy="document.selection.empty()" onselect="document.selection.empty()">
	<div style="z-index:999;position: absolute;top: 0;"><canvas id="canvas">Canvas is not supported in your browser.</canvas></div>
	<div id="mainDiv">
		<div id="content">
			<div id="code">
				<span class="comments">/**</span><br>
				<span class="space"><span class="comments">* Encountered very kind of you,</span><br>
				<span class="space"><span class="comments">* so I write some code to celebrate our 1st met.</span><br>
				<span class="space"><span class="comments">*/</span><br>
				Boy i = <span class="keyword">new</span> Boy(<span class="string">"Wind"</span>);<br>
				Girl u = <span class="keyword">new</span> Girl(<span class="string">"Metamorposis"</span>);<br>
				<span class="comments">// Aug 2, 2014, I told you I love you. </span><br>
				i.love(u);<br>
				<span class="comments">// Unluckily, you did not accepte.</span><br>
				u.unAccepted();<br>
				<span class="comments">// Since then, I miss u every day.</span><br>
				i.miss(u);<br>
				<span class="comments">// And take care of u.</span><br>
				i.takeCareOf(u);<br>
				<span class="comments">// You say that you won't be so easy to be my girlfriend.</span><br>
				<span class="comments">// So I keep waiting and I have confidence that you will.</span><br>
				<span class="keyword">boolean</span> isHesitate = <span class="keyword">true</span>;<br>
				<span class="keyword">while</span> (isHesitate) {<br>
				<span class="placeholder">i.waitFor(u);<br>
				<span class="comments">// I think it is an important decision</span><br>
				<span class="comments">// and you should think it over.</span><br>
				<span class="placeholder">isHesitate = u.thinkOver();<br>
				}<br>
				<span class="comments">// But it's time to face the truth.</span><br>
				<span class="keyword">while</span> (true) {<br>
				i.love(u);<br>
				}<br>
			</span></span></span></span></span></div>
			<div id="loveHeart">
				<canvas id="garden"></canvas>
				<div id="words">
					<div id="messages">
						Metamorposis, I have met you for
						<div id="elapseClock"></div>
					</div>
					<div id="loveu">
						Love u forever and ever.<br>
						<div class="signature">- Wind</div>
					</div>
				</div>
			</div>
		</div>
		<audio id="myaudio" preload="auto">
            <source src="resources/click.mp3" type="audio/mpeg">
        </audio>
        
		<script type="text/javascript">
	        var offsetX = $("#loveHeart").width() / 2;
	        var offsetY = $("#loveHeart").height() / 2 - 55;
	        var together = new Date();
	        together.setFullYear(2014, 8-1, 2);
	        together.setHours(20);
	        together.setMinutes(0);
	        together.setSeconds(0);
	        together.setMilliseconds(0);
	        
	        if (!document.createElement('canvas').getContext) {
	            var msg = document.createElement("div");
	            msg.id = "errorMsg";
	            msg.innerHTML = "Your browser doesn't support HTML5!<br/>Recommend use Chrome 14+/IE 9+/Firefox 7+/Safari 4+ ~ ＞▽＜"; 
	            document.body.appendChild(msg);
	            $("#code").css("display", "none")
	            $("#copyright").css("position", "absolute");
	            $("#copyright").css("bottom", "10px");
	            document.execCommand("stop");
	        } else {
	            setTimeout(function () {
	                startHeartAnimation();
	            }, 5000);
	
	            timeElapse(together);
	            setInterval(function () {
	                timeElapse(together);
	            }, 500);
	
	            adjustCodePosition();
	            $("#code").typewriter();
	        }
	    </script>
		
	</div>
	
	<div id="copyright">
            Designed by <a href="http://hackerzhou.me" target="_blank" rel="external">hackerzhou.me</a> & Inspired by <a href="http://www.openrise.com/lab/FlowerPower/" target="_blank" rel="external">FlowerPower</a> project.<br>
            Copyleft
            <!--[if lte IE 8]><span style="filter: FlipH; -ms-filter: "FlipH"; display: inline-block;"><![endif]-->
            <span style="-moz-transform: scaleX(-1); -o-transform: scaleX(-1); -webkit-transform: scaleX(-1); transform: scaleX(-1); display: inline-block; font-size:110%;">©</span>
            <!--[if lte IE 8]></span><![endif]--> 
            2013 &nbsp;&nbsp;&nbsp;<a href="/blog">Blog</a>
    </div>
	
	<!-- <script type="text/javascript">
        function include_js(file)
        {
            var _doc = document.getElementsByTagName('head')[0];
            var js = document.createElement('script');
            js.setAttribute('type', 'text/javascript');
            js.setAttribute('src', file);
            _doc.appendChild(js);
            if (document.all) { //如果是IE
                js.onreadystatechange = function() {
                    if (js.readyState == 'loaded'
                            || js.readyState == 'complete') {
                        console.log(file + ' load complete.');
                        return true;
                    }
                }
            } else {
                js.onload = function() {
                    console.log(file + 'load complete.');
                    return true;
                }
            }
            return false;
        }
        include_js("js/jquery.js");
        include_js("js/garden.js");
        include_js("js/functions.js");
        include_js("js/console.js");
    </script> -->
<script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js?t=1614159171496')
    .then(function () {console.log('ServiceWorker Register Successfully.')})
    .catch(function (e) {console.error(e)});
}
</script></body>
<script type="text/javascript" src="js/fireworks.js"></script>
</html>
